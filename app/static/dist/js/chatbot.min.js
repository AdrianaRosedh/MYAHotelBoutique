function initChatbot(){function s(){if(window.innerWidth<=640){let n=document.body.getAttribute("data-lang")||"en";Swal.fire({title:"Chatbot",html:`
                <div id="chatbot-container-swal" class="flex flex-col w-full h-full">
                    <div id="chatbot-header-swal" class="p-4 flex justify-between items-center">
                        <img src="/static/dist/img/svg/mya-ai-bounce.svg" alt="Avatar" class="w-16 h-16">
                        <button id="close-chatbot-swal" class="text-white" aria-label="Close Chatbot">&times;</button>
                    </div>
                    <div id="chatbox-swal" class="flex-1 p-4 overflow-auto"></div>
                    <div class="input-area-swal p-2 flex items-center">
                        <input type="text" id="user-input-swal" class="p-2 flex-grow focus:outline-none">
                        <button id="send-button-swal" class="send-button-swal" aria-label="Send message">
                            <img src="/static/dist/img/svg/sending.svg" alt="Sending">
                        </button>
                    </div>
                </div>
            `,showCloseButton:!1,showConfirmButton:!1,customClass:{popup:"chatbot-swal-popup"},width:"24rem",heightAuto:!1,padding:"0",background:"#fff",backdrop:!0,allowOutsideClick:!1,allowEscapeKey:!1,didOpen:()=>{console.log("Modal opened");var t=document.getElementById("chatbox-swal");if(localStorage.getItem("initialMessagesShownMobile"))t.innerHTML=localStorage.getItem("chatHistoryMobile")||"";else{let e;a(t,e="es"===n?["Â¡Hola! ðŸŒŸ","Â¿Tienes preguntas sobre MYA, Olivea o DiVino?","Â¡PregÃºntame, estoy aquÃ­ para ayudarte!"]:["Hey there! ðŸŒŸ","Got questions about MYA, Olivea, or DiVino?","Ask away, I'm here to help!"],"chatHistoryMobile"),localStorage.setItem("initialMessagesShownMobile","true")}document.getElementById("close-chatbot-swal").addEventListener("click",()=>Swal.close());t=document.getElementById("user-input-swal");t.addEventListener("keypress",e=>{"Enter"===e.key&&o(e)}),document.getElementById("send-button-swal").addEventListener("click",e=>o(e)),t.focus()}})}else if(document.getElementById("chatbot-container").classList.contains("hidden")){(t=document.getElementById("chatbot-container")).classList.remove("hidden"),t.style.width="20rem",t.style.height="28rem",t.style.maxHeight="28rem",t.style.minHeight="24rem",t.style.bottom="1rem",t.style.right="1rem",t.style.left="auto",t.style.borderRadius="0.5rem",document.body.classList.add("chatbot-open"),document.getElementById("user-input").focus();var t=document.getElementById("chatbox"),n=document.body.getAttribute("data-lang")||"en";if(localStorage.getItem("initialMessagesShown"))t.innerHTML=localStorage.getItem("chatHistoryDesktop")||"";else{let e;e="es"===n?["Â¡Hola! ðŸŒŸ","Â¿Tienes preguntas sobre MYA, Olivea o DiVino?","Â¡PregÃºntame, estoy aquÃ­ para ayudarte!"]:["Hey there! ðŸŒŸ","Got questions about MYA, Olivea, or DiVino?","Ask away, I'm here to help!"],a(t,e,"chatHistoryDesktop"),localStorage.setItem("initialMessagesShown","true")}}else i()}function i(){document.getElementById("chatbot-container").classList.add("hidden"),document.body.classList.remove("chatbot-open"),document.getElementById("chatbot-toggle").focus()}async function o(e){e.preventDefault();var e=document.getElementById("user-input-swal"),t=e.value;if(""!==t.trim()){console.log("Sending message:",t);var n=document.getElementById("chatbox-swal");n.innerHTML+=`<div class="text-left chatbot-message"><strong>You:</strong> ${t}</div>`,e.value="";try{var o=await(await fetch("/chatbot/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t})})).json();n.innerHTML+=`<div class="text-left chatbot-message"><strong>Bot:</strong> ${o.response}</div>`,n.scrollTop=n.scrollHeight,localStorage.setItem("chatHistoryMobile",n.innerHTML)}catch(e){Swal.fire({icon:"error",title:"Oops...",text:"Something went wrong with sending your message!"})}}}async function t(e){e.preventDefault();var e=document.getElementById("user-input"),t=e.value;if(""!==t.trim()){var n=document.getElementById("chatbox");n.innerHTML+=`<div class="text-left chatbot-message"><strong>You:</strong> ${t}</div>`,e.value="";try{var o=await(await fetch("/chatbot/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t})})).json();n.innerHTML+=`<div class="text-left chatbot-message"><strong>Bot:</strong> ${o.response}</div>`,n.scrollTop=n.scrollHeight,localStorage.setItem("chatHistoryDesktop",n.innerHTML)}catch(e){Swal.fire({icon:"error",title:"Oops...",text:"Something went wrong with sending your message!"})}}}function a(n,e,o){n.innerHTML="";let a=0;e.forEach((e,t)=>{setTimeout(()=>{n.innerHTML+=`<div class="text-left chatbot-message"><strong>Bot:</strong> ${e}</div>`,n.scrollTop=n.scrollHeight,localStorage.setItem(o,n.innerHTML)},a),a+=1e3})}document.addEventListener("keydown",function(e){var t=document.getElementById("chatbot-toggle"),n=document.getElementById("chatbot-container"),o=document.getElementById("user-input"),a=n.querySelector('button[aria-label="Close Chatbot"]');"Enter"===e.key&&document.activeElement===t&&s(),"Enter"===e.key&&document.activeElement===a&&i(),n.classList.contains("hidden")||"Tab"===e.key&&document.activeElement===t&&(o.focus(),e.preventDefault())}),document.addEventListener("DOMContentLoaded",function(){dragElement(document.getElementById("chatbot-container"))}),document.getElementById("chatbot-toggle").addEventListener("click",s),document.getElementById("user-input").addEventListener("keypress",e=>{"Enter"===e.key&&t(e)}),document.querySelector(".send-button").addEventListener("click",e=>t(e));let e=document.getElementById("chatbot-toggle");e.addEventListener("animationend",()=>{e.style.animation="none"}),window.addEventListener("resize",()=>{var e=document.getElementById("chatbot-container"),t=document.getElementById("chatbot-toggle");window.innerWidth<=640?(e.style.width="100%",e.style.height="auto",e.style.bottom="0",e.style.right="0",e.style.left="0",e.style.maxHeight="100%",e.style.borderRadius="0"):(e.style.width="20rem",e.style.height="auto",e.style.bottom="1rem",e.style.right="1rem",e.style.left="auto",e.style.maxHeight="24rem",e.style.borderRadius="0.5rem"),t.style.display="block"}),window.dispatchEvent(new Event("resize")),window.addEventListener("load",function(){var e=document.getElementById("chatbot-toggle");window.innerWidth<=640&&(e.style.display="block")})}function feature1(){console.log("Feature 1 initialized")}function feature2(){console.log("Feature 2 initialized")}document.addEventListener("DOMContentLoaded",function(){initChatbot()}),document.addEventListener("DOMContentLoaded",function(){var e=document.body.getAttribute("data-lang")||"en",t=document.getElementById("user-input");t.placeholder="es"===e?"Ingresa tu mensaje...":"Enter your message..."});export{feature1,feature2};
//# sourceMappingURL=chatbot.min.js.map
